{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project\\\\foody\\\\webapp\\\\FrontEnd\\\\src\\\\pages\\\\HomePage\\\\HomePage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useReducer } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Thumbnails from '../../components/Thumbnails/Thumbnails';\nimport { getAll, getAllTags, // getAllByTag,\n// getAllTags,\nsearch } from '../../services/food.service';\nimport Search from '../../components/Search/Search';\nimport Tags from '../../components/Tags/Tags';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  foods: [],\n  tags: []\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'FOODS_LOADED':\n      return { ...state,\n        foods: action.payload\n      };\n\n    case 'TAGS_LOADED':\n      return { ...state,\n        tags: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default function HomePage() {\n  _s();\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const {\n    foods,\n    tags\n  } = state;\n  const {\n    searchTerm\n  } = useParams();\n  useEffect(() => {\n    getAllTags().then(tags => dispatch({\n      type: 'TAGS_LOADED',\n      payload: tags\n    }));\n    const loadFoods = searchTerm ? search(searchTerm) : getAll();\n    loadFoods.then(foods => dispatch({\n      type: 'FOODS_LOADED',\n      payload: foods\n    }));\n  }, [searchTerm]); //   const loadFoods = tag\n  //     ? getAllByTag(tag)\n  //     : searchTerm\n  //     ? search(searchTerm)\n  //     : getAll();\n  //   loadFoods.then(foods => dispatch({ type: 'FOODS_LOADED', payload: foods }));\n  // }, [searchTerm, tag]);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Tags, {\n      tags: tags\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Thumbnails, {\n      foods: foods\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(HomePage, \"rKuV7bIYwjgLPKgAb8rQ0Qx0elY=\", false, function () {\n  return [useParams];\n});\n\n_c = HomePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"sources":["D:/Project/foody/webapp/FrontEnd/src/pages/HomePage/HomePage.js"],"names":["React","useEffect","useReducer","useParams","Thumbnails","getAll","getAllTags","search","Search","Tags","initialState","foods","tags","reducer","state","action","type","payload","HomePage","dispatch","searchTerm","then","loadFoods"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,QAA6C,OAA7C;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,UAAP,MAAuB,wCAAvB;AACA,SACEC,MADF,EAEEC,UAFF,EAGE;AACA;AACAC,MALF,QAMO,6BANP;AAOA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,IAAP,MAAiB,4BAAjB;;;AAEA,MAAMC,YAAY,GAAG;AAAEC,EAAAA,KAAK,EAAE,EAAT;AAAaC,EAAAA,IAAI,EAAE;AAAnB,CAArB;;AAEA,MAAMC,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACjC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,cAAL;AACE,aAAO,EAAE,GAAGF,KAAL;AAAYH,QAAAA,KAAK,EAAEI,MAAM,CAACE;AAA1B,OAAP;;AACF,SAAK,aAAL;AACE,aAAO,EAAE,GAAGH,KAAL;AAAYF,QAAAA,IAAI,EAAEG,MAAM,CAACE;AAAzB,OAAP;;AACF;AACE,aAAOH,KAAP;AANJ;AAQD,CATD;;AAWA,eAAe,SAASI,QAAT,GAAoB;AAAA;;AACjC,QAAM,CAACJ,KAAD,EAAQK,QAAR,IAAoBjB,UAAU,CAACW,OAAD,EAAUH,YAAV,CAApC;AACA,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAkBE,KAAxB;AACA,QAAM;AAAEM,IAAAA;AAAF,MAAiBjB,SAAS,EAAhC;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACdK,IAAAA,UAAU,GAAGe,IAAb,CAAkBT,IAAI,IAAIO,QAAQ,CAAC;AAACH,MAAAA,IAAI,EAAE,aAAP;AAAsBC,MAAAA,OAAO,EAAEL;AAA/B,KAAD,CAAlC;AAEA,UAAMU,SAAS,GAAGF,UAAU,GAAEb,MAAM,CAACa,UAAD,CAAR,GAAuBf,MAAM,EAAzD;AAEAiB,IAAAA,SAAS,CAACD,IAAV,CAAeV,KAAK,IAAIQ,QAAQ,CAAC;AAAEH,MAAAA,IAAI,EAAE,cAAR;AAAwBC,MAAAA,OAAO,EAAEN;AAAjC,KAAD,CAAhC;AACD,GANQ,EAMP,CAACS,UAAD,CANO,CAAT,CALiC,CAajC;AACA;AACA;AACA;AACA;AAEA;AACA;;AAEA,sBACE;AAAA,4BAEA,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YAFA,eAGA,QAAC,IAAD;AAAM,MAAA,IAAI,EAAER;AAAZ;AAAA;AAAA;AAAA;AAAA,YAHA,eAIE,QAAC,UAAD;AAAY,MAAA,KAAK,EAAED;AAAnB;AAAA;AAAA;AAAA;AAAA,YAJF;AAAA,kBADF;AAQD;;GA9BuBO,Q;UAGCf,S;;;KAHDe,Q","sourcesContent":["import React, { useEffect, useReducer } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Thumbnails from '../../components/Thumbnails/Thumbnails';\nimport {\n  getAll,\n  getAllTags,\n  // getAllByTag,\n  // getAllTags,\n  search\n} from '../../services/food.service';\nimport Search from '../../components/Search/Search';\nimport Tags from '../../components/Tags/Tags';\n\nconst initialState = { foods: [], tags: [] };\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'FOODS_LOADED':\n      return { ...state, foods: action.payload };\n    case 'TAGS_LOADED':\n      return { ...state, tags: action.payload };\n    default:\n      return state;\n  }\n};\n\nexport default function HomePage() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const { foods, tags } = state;\n  const { searchTerm } = useParams();\n\n  useEffect(() => {\n    getAllTags().then(tags => dispatch({type: 'TAGS_LOADED', payload: tags }));\n    \n    const loadFoods = searchTerm? search(searchTerm) : getAll();\n\n    loadFoods.then(foods => dispatch({ type: 'FOODS_LOADED', payload: foods }));\n  },[searchTerm]);\n\n  //   const loadFoods = tag\n  //     ? getAllByTag(tag)\n  //     : searchTerm\n  //     ? search(searchTerm)\n  //     : getAll();\n\n  //   loadFoods.then(foods => dispatch({ type: 'FOODS_LOADED', payload: foods }));\n  // }, [searchTerm, tag]);\n\n  return (\n    <>\n    {/* <h1>test</h1> */}\n    <Search />\n    <Tags tags={tags}/>  \n      <Thumbnails foods={foods} />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}